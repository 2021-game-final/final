var A={map:[[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0]]};class t extends Phaser.Scene{constructor(){super()}create(){const{width:t,height:e}=this.game.config;this.add.rectangle(t/2,e/2,t,e,4079166),this.add.text(t/2,e/2-100,"塔防遊戲",{fontFamily:'"Noto Sans TC", sans-serif',fontSize:"72px"}).setOrigin(.5),this.add.container(t/2,e/2,[this.add.rectangle(0,0,100,50,2105376).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{this.scene.start("stageScene",A)})),this.add.text(0,0,"開始").setOrigin(.5)])}}class e{constructor(A,t){this.name=A,this.image=t}}class a extends Phaser.Scene{constructor(){super()}preload(){this.load.image("tank-brown","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUcSURBVHja7FtdTFtVHP+dtrQXWEuxUlsgNk1hg5cppE1IlKc5ZQ/AEkyWYHQm+4iGty2iIdEXs8VhxoOLPjhepq+S8JEYou6JmaBU2WYWxqTWslAqFehaSj/ovceHlVmx5fau915Kuf/k5t57es7/3PO7/+97SiilOMikwgEnBQAFAAUABYADTRq5JySE7Op3KaWkpAEAgLEPXsja3v3JHUUFilYFCCEDAN4HQNLHTlHmCylpnvOs8/TlmzcB4Aql9DOxVaCzTE0M5irt/2em2Z8oW5gdCCV3ncRcpTX+1ybs5E1z/gYAoWgKLEdPARAdgC1DhQZfnG8qSOT49Pz6u80F8X/72j2sR1NUChtA9pFqEykAOPCBkCIB+2PpRDIJKIhYjmJmIczbb2YhDJaTr0gjeSQYjbMYdwcxObuKehPD23/05yCuffsQJ1pN6HLWoJJR718bMDUXQt/wPNY2UrjyZiMu9Tp4x1zqdWDwrUasbaTQNzyPqbnQ0yg/2VMJ4CjFl98t4bfFDXz4uh0OS7mg8RajFn0d9fAEYhia8OHe4gbOv1oHVf76TffMBnCUYnDUh5VHSVw9fVjw4jPJYSnH1dOHsfIoicFRH7j8C7h75wWGf/AjmaIY6LGD0RbOntGqMNBjx1aK4vr3/r21AXwSeGsuhDt/RtDfbYNGLV7YoFETvNdtw11fBLd4bEL6GeWXgGicxfBNPy502kR589kk4UKnDcM3/YjG2eKrB4y7g3A69AXpfD42wenQY9wdLC4AUizF5OwqetrMkgcuPW1mTM6uIsVS2Y1gTqaz3gjqTQys1TrJAbBW61BvYjDrjcjvBkkODG57I3A6DLKFr64GAx8A8kaCnr9iaKqrkA2AproKeAKx4vEC/rUEap/RyQaAtVqH5fVE8SRD0QSLQwKSlkLL3/pyNaIJVhQjqBFDBYSk4bm+CeyHilDORVbq1IjEWNkeOhJjUalTCzLUktoAa7UO/rWEbAAsryf4XK68RrDBUo55/6ZsANxf2hQt4hQFgBfterg9YdkAcHvCaLHri6ce0GLXYzEYF8018Yn/w7/jOQGQMg4gu6WrJ1pNGJlekRyAkekVdLSYREu3RasJdjlr4PZEckZoYpAnEIN7IYwuZ82eVIR21atKRo2zx2oxNOFDPMmJvvh4ksPQhA9nXqnLp1IsCQC8fV9uNuKoTY/BMR9fuio43f50zIejNj3am40FvyxJJGCbzh2vhVZDcHnEK4okxJMcLo94UaYhOHe8VhR1laQi9IQhIeg/aYO5SouLNx4UZBM8gRgu3ngAc5UW/SdtQsrikiRDRAgI77xWj6m5ED7+xgtXgwE9bWZYjNq8xgdCSYxMr2BmIYwzx2rzFXvps0GhL6C92YhWux5jM0H0f/U7nq9h4HIYcKSuAtZqHQzlj6cPx1JYXk9gfmkTbk8YvmAcHS0mfH72iOBPY0LjAMm/DVYyavS2W3Dqpefw6x8R3PZG8OP9EAKhJDbS1d1DjBoWoxaN1gp0uWrQYtc/tZ8nUkpAIaRWEbgaDHA1SFs6E+p7Sm6DBJEQgJIkFUpNBCSMA0gpSgDJ9z9DhJBfmDJV67OGMlCaNjbp804ej9vS19tn0CxteNLw7+bKDD40+6ZLiiwbKNMNiS0KjtKfKKVtYgPwBoCPAHDpg6bPyLjfrY3LWHMuHpltmWPZHTy5LNfb95sAvqaUTosKgGIEFQAUABQAFAAUABQAFAAUAEqM/hkAFTblrVSW79UAAAAASUVORK5CYII="),this.load.image("tank-red","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAATqSURBVHja7Frfa9tWFP6uo6wSVdxYYLDjtBlu05gZUtMmW/LQh+V97UMK+/nQPqYtY7CHQda1dGsLY9CHEtrHMQalsOUlf0DK6ENcUhcz8LAT6m3Ubg0uUuIqsWbLuntY2oossiQsOU6iA8b29f3B/XS+c79zfAmlFHvZfNjj5gHgAeAB4AGwp41p94KEkKbnLqWU7GoAAGD+5Mkt2ycePPAo0LEUIIRMA/gKANl4bXZlM0lJLa4jmfQ1W/cfAN9TSm85TYEPun0+f2jfPtMd0Td8/l/7c0VpukiIZXv146wgoe+/Uq9DpfRDAI4DUD/AMPhpZKQllzPj+d3R0ZbmP/PwIcRajboRA8gOojZxA4A9L4QIIWRve8BOqB0QFz0ArXiASikWRNG034IoQm0j0K4rQVlVMVssYq5UwgDHmfb/pVDAD0tLOB0OYzISAc8wnRMDbEvechnnUim8qNUwc+wYbg4Pm465OTyMmUQCL2o1nEulMF8uu8oEV+DVKMWtJ0+QXl3FjXgcgzxva3wfy+LLwUEsyzKu53L4fXUVnx8+DJ91CrqiAyxv/mo2i5Ki4E4iYXvzehvkedxJJFBSFFzNZqFZjw3bpwNm8nnUNA3X4nFwXV0tz8d1deFaPI66pmEmn99mHWDS4X65jMcrK7gci4FxUDMwhOCbWAyPV1Zw3yQmkO3yAFlVcTufx/TQkCNPfitP+HpoCLfzeciq2nn1gNliEe8JAo62wHkrMWFMEDBbLHYWACqlmCuV8HF/v+vC5aP+fsyVSoZiaUOsuUIBw0kXJQkDHIeIBaHTqkU4DgMch0VJaibX23sMPpIkjAlC2+TrmCAYAmBXrjviAcuyjHf8/rYBEPf7sSzLnXMKFKpV9LfB/fU0KFarnZMMyaqKHhtJS6vlbz/DmB2FruQCxIkVjf4T2AkVIcNN8gyDioPixMwqqupYmuxzipMFhzhpxYrVqtmR294geJTn8Uel0jYAMpVKS1mm4wCMBAJIGpzLblhSkjAaCLS/HmAkMkYDAfy1tubY0WTm/n+vrxsC4KYOIM3S1dPhMO4VCq4DcK9QwKlQyLF027Ga4GQkgqQoYslAoTlhy7KMBVHEZCSyLRWhprziGQbno1HcyOVQbTQc33y10cD1XA7no9GmR6Cb2aBp3/eDQRzv7cW32ayjtX2VUnyXzeJ4by8mgsGWH5YrHvDKLkajeMvnw6VMxhFPqDYauJTJoNvnw8Vo1BG6ulIRej0hIbgSiyHEsphKpw2zNqucn0qnEWJZXInF7JTFXUmGiB0QvjhyBPPlMqYzGYwJAj45eBBhlrU0/rmi4O7Tp0iKIqaiUatu7342aBf/iWAQ7wYC+LVYxIV0Gm/v349xQUC8pwd9HIcD3d0AgNV6Hc+qVWRevkRSFPHn2hpOhcP48cQJ25rfrg5w/b9BnmFwdmAAnx06hEVJwiNJwm/lMp4pyuuUlmcY9LEshnp6cCYSwWgg4GhZfVsB0IulcUHAeBtLZ20VQjvVvCsyu3RfxKOAC0GQSvU6zqZSoJS+uaSIN3eH6CbZqO+n/13b4gLlVpce7bYDgKJpwH+3Ra09VasXnwghnwK4DEDbeNGNd+i+N2vT9BgYzKFv049tbJpT2+Lzq+/rAH6mlCYdBcALgh4AHgAeAB4AHgAeAB4AHgC7zP4dAEGt5BSw3PRIAAAAAElFTkSuQmCC"),this.load.image("tank-blue","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVWSURBVHja7FpbTFtlHP+dXkYPlxZKFVgBC3ZAGJtJBQRqfLFOY7LM4SIu6HTLog8+kJklkomKEZeZGBWzJx42o0s2zBzy4INafTHcN6Ib4LgMWAcMRimFUg70cj4fBqzD0st6Tlvg/JOT9nznu5zvd37/73/5PooQgu0sImxzEQAQABAAEADY1iIJ94AURfm0u4QQaksDAADPn2r1Wv7H6bLoZYDhw7awvBBX4xg/Lw2MkYF6ghRFnQLwAQBq5Vrf0F9Hq88Vfhhg9dOXv3GXAXxBCPmWaxXYLxJL5bLENC9Dk/V67P3dCAFjnfA5iEyRlvhQOx8fyNs4DvssCOuqAMA5AE5pbCJK370UEjX96bn+vZ9C6v+v+v1w2GcCDnCCMYMUNo9QfACw7R0hahORgC8GRH/ugKL4Y0BIywBhXTAPtfitZx5qAWFdW8cTdC0twNTViPHuJsSpNH7rmzou4t9fTkOtK0dmUQUksvhoWgOCk6k+I9obDsNhm0bhWw3QVZ7120ZXeRaFRxrgsE2jveEwpvqMj6L+VEQZQAiLgV+/wuzta3jqtS+RkJobVHs6SY28l6thm+xHb3MtrKa/kfPi+6AoEeeLlYiPyfdcqQEzdxdFR88FPXlPSUjNRdHRc2Dm7qLnSg0IYaPfDxj4/Ru4XcvYe+gMxDvokPsT76Cx99AZsG4HBn77OrJrAOXHxkz1GTE70oU9B+sgEku5e0mxFAWvfIbZ0av+1wSKigwDXEsLGDTWY/eBTzj58t6YsPtALQaN9XAtLUSEAb7NV1cjkp8sQ0JqHm8mKyE1F8laPUxdjdEFAOt2Yry7CZqyN3l3XDSlb2C8uwms28mJGeTED7CMdCJOpQGdlM47AHRSOuJUGlhGOn1ZwPCaQctwJ1Ta8OXzVFo9ZoY7OPHXOGGAbbIfcnVB2ABQqAtgm+zfyFSF3wosWkyIVWaGDQBamQHGcid6giHXsh1SWULA9UNNf0tpOVzLdk48QQkXKhBMIL5RRngzZIQ2nKQkJg5OZj5sL+1k5iGJiYseP4BWZmDRYgobAIzlDmhlRvQEQ/LUPMyP94YNgLnxnpCiTM4BUGYXB5Tu4krMQy1IziqORD7AO7OUWcWwTw+DmR3jn/6zY7CbR6HMfibs0SDlK1xVP/0qRtsu8A7AaNsFqHUHOQu3OcsJZhZVYGaoBbbJm7xN3jbZD/NgCzKLKiKSEfKpVxJZPHYZqtDb/CncDobzybsdDHqba5HzQpWfTDF/KuC3bkq+AUmaQtxoqvERrj5auN3z80dI0hQiJd8Q8sfihQGrkrPvBMSSGFy/XM0JE9wOBtcvV0Mk3oGcfSe48Vr5yAg9WIRFKCivA61IQ9f5YxtGbYHqfNf5Y6AVaSgorwsmLc5LMEQFA0LuSycx1WfEPz+ehEqrxxNlR0An7gzM1FkncLv1e5iHWrDLUBUo7fmPBqkgdx5T8g1Izi6BqfMSrn53HHGPZUOl1UORvgd0ohrSWMV9335xDox1HHNjN2C+1Qr7vVtQ68pR8s7FoLfGgs0H8L43KJHFI/u548h69m3MDHfAMtyJezf/BGOdgJOxrYS3CaATd0Kelo/M4tehzCrmNK0eUQDWvoxIApVWD5VWv2nD4c10RCa8wZAAQPQJJahAoJMK4qToNbGU1snkj4OArO0/3G+/0odHX2vl/ysDsLbNTTyarTv0SMjKEA/KHzoYue6Q5uoz1rkEQtgOQkgJ1wBUAvgYALtykZVfeNz7KmM9ZrlRH55lnm3d6/pkvfxfvV8E8AMhpJ1TAIRFUABAAEAAQABAAEAAQABAAGCLyX8DAA8O+IriNNl6AAAAAElFTkSuQmCC")}create({map:A}){A.forEach(((A,t)=>{A.forEach(((A,e)=>{const a=0===A?10013806:15913593;this.add.rectangle(64*e,64*t+64,64,64,a).setOrigin(0)}))})),this.tanksData=[new e("一級砲台","tank-brown"),new e("二級砲台","tank-red"),new e("三級砲台","tank-blue")],this.createStatusBar(),this.createTankBar(),setInterval((()=>{this.money-=5}),1e3)}createStatusBar(){this.statusBarContainerEl=document.createElement("div"),this.statusBarContainerEl.id="status-bar-container",this.statusBarContainerEl.style.width="100%",this.statusBarContainerEl.style.height="64px",this.statusBarEl=document.createElement("div"),this.statusBarEl.id="status-bar",this.statusBarContainerEl.appendChild(this.statusBarEl),this.stage=1,this.stageEl=document.createElement("div"),this.stageEl.innerText=`第 ${this.stage} 關`,this.statusBarEl.appendChild(this.stageEl),this.money=300,this.moneyEl=document.createElement("div"),this.moneyEl.innerText="$: 300",this.statusBarEl.appendChild(this.moneyEl),this.live=10,this.liveEl=document.createElement("div"),this.liveEl.innerText="❤: 10",this.statusBarEl.appendChild(this.liveEl),this.add.dom(0,0,this.statusBarContainerEl).setOrigin(0)}createTankBar(){const A=[];for(let t=0;t<12;t++){const e=40+80*t,a=this.add.container(e,16,[this.add.rectangle(0,0,64,64,4342338).setOrigin(0),...t<this.tanksData.length?[this.add.image(0,0,this.tanksData[t].image).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{console.log("hi")})).setOrigin(0)]:[]]);A.push(a)}this.add.container(0,704,[this.add.rectangle(0,0,1024,96,5921370).setOrigin(0),...A])}update(){this.moneyEl.innerText=`$: ${this.money}`}}!function(){const A={parent:"game",dom:{createContainer:!0},type:Phaser.AUTO,width:1024,height:800,physics:{default:"arcade",arcade:{debug:!1}}},e=new Phaser.Game(A);e.scene.add("welcomeScene",new t),e.scene.add("stageScene",new a),e.scene.start("welcomeScene")}();
