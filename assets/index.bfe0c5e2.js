import{p as t}from"./vendor.6400bf0f.js";var e={map:[[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0]]};class n extends t.exports.Scene{create(){const{width:t,height:n}=this.game.config;this.add.rectangle(t/2,n/2,t,n,4079166),this.add.text(t/2,n/2-100,"塔防遊戲",{fontFamily:'"Noto Sans TC", sans-serif',fontSize:"72px"}).setOrigin(.5),this.add.container(t/2,n/2,[this.add.rectangle(0,0,100,50,2105376).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{this.scene.start("stageScene",e)})),this.add.text(0,0,"開始").setOrigin(.5)])}}const a=[{name:"一級砲台",image:"/final/assets/tank_1.ca2959c3.png",imageKey:"tank-brown"},{name:"二級砲台",image:"/final/assets/tank_2.181a4c2d.png",imageKey:"tank-red"},{name:"三級砲台",image:"/final/assets/tank_3.af59195d.png",imageKey:"tank-blue"}];class i extends t.exports.Scene{preload(){a.forEach((t=>{this.load.image(t.imageKey,t.image),console.log(t)}))}create({map:t}){t.forEach(((t,e)=>{t.forEach(((t,n)=>{const a=0===t?10013806:15913593;this.add.rectangle(64*n,64*e+64,64,64,a).setOrigin(0)}))})),this.createStatusBar(),this.createTankBar(),setInterval((()=>{this.money-=5}),1e3)}createStatusBar(){this.statusBarContainerEl=document.createElement("div"),this.statusBarContainerEl.id="status-bar-container",this.statusBarContainerEl.style.width="100%",this.statusBarContainerEl.style.height="64px",this.statusBarEl=document.createElement("div"),this.statusBarEl.id="status-bar",this.statusBarContainerEl.appendChild(this.statusBarEl),this.stage=1,this.stageEl=document.createElement("div"),this.stageEl.innerText=`第 ${this.stage} 關`,this.statusBarEl.appendChild(this.stageEl),this.money=300,this.moneyEl=document.createElement("div"),this.moneyEl.innerText="$: 300",this.statusBarEl.appendChild(this.moneyEl),this.live=10,this.liveEl=document.createElement("div"),this.liveEl.innerText="❤: 10",this.statusBarEl.appendChild(this.liveEl),this.add.dom(0,0,this.statusBarContainerEl).setOrigin(0)}createTankBar(){const t=[];for(let e=0;e<12;e++){const n=40+80*e,i=this.add.container(n,16,[this.add.rectangle(0,0,64,64,4342338).setOrigin(0),...e<a.length?[this.add.image(0,0,a[e].imageKey).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{console.log("hi")})).on("pointerover",(()=>{this.tankIntro.setVisible(!0),this.tankIntroContentEl.innerHTML=`${a[e].name}<br>射擊速度<br>攻擊力<br>特殊功能?緩速<br>價錢`})).on("pointermove",(({x:t,y:e})=>{this.tankIntro.setX(t).setY(e)})).on("pointerout",(()=>{this.tankIntro.setVisible(!1)})).setOrigin(0)]:[]]);t.push(i)}this.add.container(0,704,[this.add.rectangle(0,0,1024,96,5921370).setOrigin(0),...t]),this.tankIntroContainerEl=document.createElement("div"),this.tankIntroContainerEl.id="tank-intro-container",this.tankIntroBgEl=document.createElement("div"),this.tankIntroBgEl.id="tank-intro-bg",this.tankIntroContainerEl.appendChild(this.tankIntroBgEl),this.tankIntroContentEl=document.createElement("div"),this.tankIntroContentEl.id="tank-intro-content",this.tankIntroBgEl.appendChild(this.tankIntroContentEl),this.tankIntro=this.add.dom(0,0,this.tankIntroContainerEl).setOrigin(0,1)}update(){this.moneyEl.innerText=`$: ${this.money}`}}!function(){const e={parent:"game",dom:{createContainer:!0},type:t.exports.AUTO,width:1024,height:800,physics:{default:"arcade",arcade:{debug:!1}}},a=new t.exports.Game(e);a.scene.add("welcomeScene",new n),a.scene.add("stageScene",new i),a.scene.start("welcomeScene")}();
