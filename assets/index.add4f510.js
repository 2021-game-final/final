var t={map:[[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0]]};class e extends Phaser.Scene{constructor(){super()}create(){const{width:e,height:a}=this.game.config;this.add.rectangle(e/2,a/2,e,a,4079166),this.add.text(e/2,a/2-100,"塔防遊戲",{fontFamily:'"Noto Sans TC", sans-serif',fontSize:"72px"}).setOrigin(.5),this.add.container(e/2,a/2,[this.add.rectangle(0,0,100,50,2105376).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{this.scene.start("stageScene",t)})),this.add.text(0,0,"開始").setOrigin(.5)])}}class a{constructor(t,e){this.name=t,this.image=e}}class s extends Phaser.Scene{constructor(){super()}preload(){this.load.image("tank-brown","/final/assets/tank_1.ca2959c3.png"),this.load.image("tank-red","/final/assets/tank_2.181a4c2d.png"),this.load.image("tank-blue","/final/assets/tank_3.af59195d.png")}create({map:t}){t.forEach(((t,e)=>{t.forEach(((t,a)=>{const s=0===t?10013806:15913593;this.add.rectangle(64*a,64*e+64,64,64,s).setOrigin(0)}))})),this.tanksData=[new a("一級砲台","tank-brown"),new a("二級砲台","tank-red"),new a("三級砲台","tank-blue")],this.createStatusBar(),this.createTankBar(),setInterval((()=>{this.money-=5}),1e3)}createStatusBar(){this.statusBarContainerEl=document.createElement("div"),this.statusBarContainerEl.id="status-bar-container",this.statusBarContainerEl.style.width="100%",this.statusBarContainerEl.style.height="64px",this.statusBarEl=document.createElement("div"),this.statusBarEl.id="status-bar",this.statusBarContainerEl.appendChild(this.statusBarEl),this.stage=1,this.stageEl=document.createElement("div"),this.stageEl.innerText=`第 ${this.stage} 關`,this.statusBarEl.appendChild(this.stageEl),this.money=300,this.moneyEl=document.createElement("div"),this.moneyEl.innerText="$: 300",this.statusBarEl.appendChild(this.moneyEl),this.live=10,this.liveEl=document.createElement("div"),this.liveEl.innerText="❤: 10",this.statusBarEl.appendChild(this.liveEl),this.add.dom(0,0,this.statusBarContainerEl).setOrigin(0)}createTankBar(){const t=[];for(let e=0;e<12;e++){const a=40+80*e,s=this.add.container(a,16,[this.add.rectangle(0,0,64,64,4342338).setOrigin(0),...e<this.tanksData.length?[this.add.image(0,0,this.tanksData[e].image).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{console.log("hi")})).setOrigin(0)]:[]]);t.push(s)}this.add.container(0,704,[this.add.rectangle(0,0,1024,96,5921370).setOrigin(0),...t])}update(){this.moneyEl.innerText=`$: ${this.money}`}}!function(){const t={parent:"game",dom:{createContainer:!0},type:Phaser.AUTO,width:1024,height:800,physics:{default:"arcade",arcade:{debug:!1}}},a=new Phaser.Game(t);a.scene.add("welcomeScene",new e),a.scene.add("stageScene",new s),a.scene.start("welcomeScene")}();
